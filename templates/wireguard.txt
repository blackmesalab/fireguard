# {{ host.name }} wireguard configuration
# Note: this file is managed by fireguard (https://github.com/blackmesalab/fireguard)

[Interface]
Address = {{ host.address }}
PrivateKey = {{ host.private_key }}
ListenPort = {{ host.listen_port }}
PreUp = {{ host.pre_up }}
PostUp = {{ host.post_up }}
PostDown = {{ host.post_down }}

{%- for peer in peers %}
# Peer {{ peer.name }}
[Peer]
Endpoint = {{ peer.endpoint }}
PublicKey = {{ peer.public_key }}
AllowedIps = {{ peer.allowed_ips}}
PersistentKeepalive = {{ peer.persistent_keepalive}}
{% endfor -%}
